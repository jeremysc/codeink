<!doctype html>
<html>
<meta charset="utf-8">
<title>codeink</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="codeink enables you to work through programming problems visually.">

<style>
@import url(css/bootstrap.css);
@import url(css/colorpicker.css);
@import url(css/slider.css);
@import url(style.css);
</style>

<script src="js/jquery.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/kinetic.js"></script>
<script src="js/underscore.js"></script>
<script src="js/backbone.js"></script>
<script src="js/colorpicker.js"></script>
<script src="js/slider.js"></script>
<script src="models.js"></script>
<script src="sketches.js"></script>
<script src="lists.js"></script>
<script src="views.js"></script>

<div id="codeinkapp">
  <nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">codeink</a>
    </div>
  </nav>

  <div id="main">
    <div class="row">
      <div class="col-xs-2">
        <div id="palette">
        </div>
      </div>
      <div id="right-pane" class="col-xs-7">
        <div id="stage"></div>
      </div>
      <div class="col-xs-3">
        <div id="steps">
        </div>
      </div>
    </div>    
  </div>
</div>

<script type="text/template" id="palette-template">
  <div>
    <h3>tools</h3>
    <div id="tools" class="btn-group">
      <button id="select" type="button" class="btn btn-md btn-primary">select</button>
      <button id="draw" type="button" class="btn btn-md btn-default">pen</button>
      <button id="fill" type="button" class="btn btn-md btn-default">fill</button>
    </div>
    <div id="color-picker" class="input-group color" data-color="#79c2f7">
      <input type="text" class="form-control" value="#79c2f7">
      <span class="input-group-addon"><i></i></span>
    </div>
  </div>    
  <div id="data">
    <h3>data <small>drag onto canvas</small></h3>
    <div class="row"><div class="col-xs-12">
      <button id="num" class="btn btn-md btn-primary add-data" type="button" draggable="true">number</button>
    </div></div>
    <div class="row"><div class="col-xs-12">
      <button id="list" class="btn btn-md btn-primary add-data" type="button" draggable="true">list</button>
    </div></div>
    <div class="row"><div class="col-xs-12">
      <button id="binary" class="btn btn-md btn-primary add-data" type="button" draggable="true">binary node</button>
    </div></div>
    <div class="row"><div class="col-xs-12">
      <button id="node" class="btn btn-md btn-primary add-data" type="button" draggable="true">node</button>
    </div></div>
    <div class="row"><div class="col-xs-12">
      <button id="edge" class="btn btn-md btn-primary add-data" type="button" draggable="true">edge</button>
    </div></div>
  </div>    
</script>

<script type="text/template" id="steps-template">
  <h3>steps
    <select id="language-select" class="small form-control-inline">
      <option value='python'>python</option>
      <option value='english'>english</option>
    </select>
  </h3>
  <div>
    <!--<button id="record" type="button" class="btn btn-md btn-danger">record <span class="glyphicon glyphicon-headphones"></span></button>-->
    <button id="playback" type="button" class="btn btn-md btn-success">play <span class="glyphicon glyphicon-play"></span></button>
  </div>
  <div>
    <button id="back" class="btn" type="button">back</button>
    <button id="forward" class="btn" type="button">forward</button>
  </div>
  <div class="row">
    <div class="col-xs-10">
      <ul id="steps-body" class="nav nav-stacked"></ul>
    </div>
    <div class="col-xs-12" id="slider">
    </div>
  </div>
</script>

<script type="text/template" id="step-template">
  <li>
    <a href="#"><code><%= code %></code></a>
  </li>
</script>

<script>
function isPrimitiveType(obj) {
  var typ = typeof obj;
  return ((obj == null) || (typ != "object"));
}
function isDatum(obj) {
  return obj.has('name');
}
function isArray(obj) {
  return (obj instanceof Array);
}

$(function() {
  var AppView = Backbone.View.extend({
    el: $("#codeinkapp"),

    initialize: function() {
      this.render();
    },

    render: function() {
      var state = new State;
      var activeStep = new ActiveStep;
      var steps = new Steps;
      var data = new Data;
      var trace = new Trace;
      new PaletteView({state: state});
      new CanvasView({data: data, steps: steps, activeStep: activeStep, trace: trace, state: state});
      new StepsView({data: data, steps: steps, activeStep: activeStep, trace: trace});
    }
  });

  new AppView;
});
</script>
</html>
